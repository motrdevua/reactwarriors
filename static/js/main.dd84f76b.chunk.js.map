{"version":3,"sources":["MovieItem.jsx","MovieTabs.jsx","Pagination.jsx","App.js","index.js"],"names":["MovieItem","_this","Object","classCallCheck","this","_super","call","state","moviesWillWatch","_this2","_this$props","props","movie","removeMovie","addMovieToWillWatch","removeMovieFromWillWatch","react_default","a","createElement","className","title","src","poster_path","backdrop_path","concat","alt","vote_average","style","width","type","onClick","setState","bind","React","Component","MovieTabs","nextProps","nextState","sort_by","updateSortBy","handleClick","value","getClassNameByValue","Pagination","page","updatePage","totalPages","API_URL","API_KEY_3","App","getMovies","fetch","then","response","json","data","movies","results","total_pages","updateMoviesWillWatch","toConsumableArray","filter","item","id","assertThisInitialized","updateMovies","prevProps","prevState","Fragment","background","src_MovieTabs","fontSize","textAlign","length","src_Pagination","map","src_MovieItem","key","rootElement","document","getElementById","ReactDOM","render","StrictMode","src_App"],"mappings":"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","file":"static/js/main.dd84f76b.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nclass MovieItem extends React.Component {\r\n  constructor() {\r\n    super();\r\n\r\n    this.state = {\r\n      moviesWillWatch: false\r\n    };\r\n  }\r\n\r\n  // componentWillUnmount() {\r\n  //   console.log(this.props);\r\n  // }\r\n\r\n  render() {\r\n    const {\r\n      movie,\r\n      removeMovie,\r\n      addMovieToWillWatch,\r\n      removeMovieFromWillWatch\r\n    } = this.props;\r\n\r\n    const getClassNameByValue = () => {\r\n      return `btn p-1 ${\r\n        this.state.moviesWillWatch ? 'btn-secondary' : 'btn-primary'\r\n      }`;\r\n    };\r\n    const handleClick = () => {\r\n      if (this.state.moviesWillWatch) {\r\n        this.setState({\r\n          moviesWillWatch: false\r\n        });\r\n        removeMovieFromWillWatch(movie);\r\n      } else {\r\n        this.setState({\r\n          moviesWillWatch: true\r\n        });\r\n        addMovieToWillWatch(movie);\r\n      }\r\n    };\r\n\r\n    return (\r\n      <div className=\"col-lg-3 col-md-4 col-sm-6 col-12 mb-3\">\r\n        <div className=\"card\">\r\n          <p className=\"card__title mb-0\">{movie.title}</p>\r\n          <img\r\n            src={\r\n              movie.poster_path || movie.backdrop_path\r\n                ? `https://image.tmdb.org/t/p/w500/${\r\n                    movie.poster_path || movie.backdrop_path\r\n                  }`\r\n                : 'https://via.placeholder.com/315x315.png'\r\n            }\r\n            alt={movie.title}\r\n          />\r\n          <p className=\"d-flex align-items-center justify-content-center rate p-2 m-0\">\r\n            Rating: {movie.vote_average}\r\n          </p>\r\n          <div\r\n            style={{ width: '100%' }}\r\n            className=\"p-1 d-flex justify-content-between align-items-center\">\r\n            <button\r\n              type=\"button\"\r\n              className={getClassNameByValue()}\r\n              onClick={handleClick}>\r\n              {this.state.moviesWillWatch\r\n                ? 'will watch remove'\r\n                : 'will watch add'}\r\n            </button>\r\n            <button\r\n              type=\"button\"\r\n              className=\"btn btn-warning p-1\"\r\n              onClick={removeMovie.bind(null, movie)}>\r\n              delete\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default MovieItem;\r\n","import React from 'react';\r\n\r\nclass MovieTabs extends React.Component {\r\n  // componentWillReceiveProps(nextProps, nextState) {\r\n  //   console.log('nextProps', nextProps.sort_by);\r\n  //   console.log('prevProps', this.props.sort_by);\r\n  // }\r\n\r\n  shouldComponentUpdate(nextProps, nextState) {\r\n    if (nextProps.sort_by !== this.props.sort_by) {\r\n      return true;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  render() {\r\n    const { sort_by, updateSortBy } = this.props;\r\n\r\n    const handleClick = (value) => () => {\r\n      updateSortBy(value);\r\n    };\r\n\r\n    const getClassNameByValue = (value) => {\r\n      return `nav-link ${sort_by === value ? 'active' : ''}`;\r\n    };\r\n\r\n    return (\r\n      <ul className=\"tabs nav nav-pills d-flex justify-content-start align-items-center\">\r\n        <li className=\"nav-item\">\r\n          <div\r\n            className={getClassNameByValue('popularity.desc')}\r\n            onClick={handleClick('popularity.desc')}>\r\n            Popularity\r\n          </div>\r\n        </li>\r\n        <li className=\"nav-item\">\r\n          <div\r\n            className={getClassNameByValue('revenue.desc')}\r\n            onClick={handleClick('revenue.desc')}>\r\n            Revenue\r\n          </div>\r\n        </li>\r\n        <li className=\"nav-item\">\r\n          <div\r\n            className={getClassNameByValue('vote_average.desc')}\r\n            onClick={handleClick('vote_average.desc')}>\r\n            Vote average\r\n          </div>\r\n        </li>\r\n      </ul>\r\n    );\r\n  }\r\n}\r\n\r\nexport default MovieTabs;\r\n","import React from 'react';\r\n\r\nclass Pagination extends React.Component {\r\n  render() {\r\n    const { page, updatePage, totalPages } = this.props;\r\n    const handleClick = (value) => () => {\r\n      return value >= 1 ? updatePage(value) : false;\r\n    };\r\n\r\n    return (\r\n      <div className=\"navigation mt-4 mb-4\">\r\n        <div className=\"container\">\r\n          <div className=\"row justify-content-center\">\r\n            <div className=\"col-6 d-flex justify-content-between align-items-center\">\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn btn-dark\"\r\n                onClick={handleClick(page - 1)}>\r\n                Prev Page\r\n              </button>\r\n              <div className=\"d-flex flex-column align-items-center justify-content-center m-0\">\r\n                <p className=\"total-pages m-0\">Total Pages: {totalPages}</p>\r\n                <p className=\"current-page m-0\">Page number: {page}</p>\r\n              </div>\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn btn-dark\"\r\n                onClick={handleClick(page + 1)}>\r\n                Next Page\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Pagination;\r\n","import React from 'react';\r\nimport './styles.css';\r\n\r\nimport MovieItem from './MovieItem';\r\nimport MovieTabs from './MovieTabs';\r\nimport Pagination from './Pagination';\r\n\r\nconst API_URL = 'https://api.themoviedb.org/3';\r\n\r\nconst API_KEY_3 = '3f4ca4f3a9750da53450646ced312397';\r\n\r\nclass App extends React.Component {\r\n  constructor() {\r\n    super();\r\n\r\n    this.state = {\r\n      movies: [],\r\n      total_pages: 0,\r\n      moviesWillWatch: [],\r\n      sort_by: 'revenue.desc',\r\n      page: 1\r\n    };\r\n\r\n    this.removeMovie = this.removeMovie.bind(this);\r\n    this.addMovieToWillWatch = this.addMovieToWillWatch.bind(this);\r\n  }\r\n\r\n  getMovies = () => {\r\n    fetch(\r\n      `${API_URL}/discover/movie?api_key=${API_KEY_3}&sort_by=${this.state.sort_by}&page=${this.state.page}`\r\n    )\r\n      .then((response) => {\r\n        return response.json();\r\n      })\r\n      .then((data) => {\r\n        this.setState({\r\n          movies: data.results,\r\n          total_pages: data.total_pages\r\n        });\r\n      });\r\n  };\r\n\r\n  removeMovie(movie) {\r\n    const updateMovies = this.state.movies.filter((item) => {\r\n      return item.id !== movie.id;\r\n    });\r\n    const updateMoviesWillWatch = this.state.moviesWillWatch.filter((item) => {\r\n      return item.id !== movie.id;\r\n    });\r\n    this.setState({\r\n      movies: updateMovies,\r\n      moviesWillWatch: updateMoviesWillWatch\r\n    });\r\n  }\r\n\r\n  addMovieToWillWatch = (movie) => {\r\n    const updateMoviesWillWatch = [...this.state.moviesWillWatch, movie];\r\n    this.setState({\r\n      moviesWillWatch: updateMoviesWillWatch\r\n    });\r\n  };\r\n\r\n  removeMovieFromWillWatch = (movie) => {\r\n    const updateMoviesWillWatch = this.state.moviesWillWatch.filter((item) => {\r\n      return item.id !== movie.id;\r\n    });\r\n    this.setState({\r\n      moviesWillWatch: updateMoviesWillWatch\r\n    });\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.getMovies();\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (prevState.sort_by !== this.state.sort_by) {\r\n      this.getMovies();\r\n    }\r\n    if (prevState.page !== this.state.page) {\r\n      this.getMovies();\r\n    }\r\n  }\r\n\r\n  updateSortBy = (value) => {\r\n    this.setState({\r\n      sort_by: value\r\n    });\r\n  };\r\n\r\n  updatePage = (value) => {\r\n    this.setState({\r\n      page: value\r\n    });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <div\r\n          className=\"container-fluid\"\r\n          style={{\r\n            background: '#ccc'\r\n          }}>\r\n          <div className=\"row justify-content-center\">\r\n            <div className=\"col-lg-9 col-md-9 col-9 p-3 d-flex justify-content-lg-start justify-content-md-start justify-content-center\">\r\n              <MovieTabs\r\n                sort_by={this.state.sort_by}\r\n                updateSortBy={this.updateSortBy}\r\n              />\r\n            </div>\r\n            <div\r\n              className=\"col-lg-3 col-md-3 col-3 d-flex justify-content-center align-items-center flex-lg-row flex-md-row flex-column align-items-center\"\r\n              style={{\r\n                background: '#aaa',\r\n                fontSize: '24px',\r\n                textAlign: 'center'\r\n              }}>\r\n              <p className=\"m-0\">Will watch:</p>\r\n              <p className=\"m-0 ml-lg-3 ml-md-3 text-primary\">\r\n                {this.state.moviesWillWatch.length}\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <Pagination\r\n          page={this.state.page}\r\n          updatePage={this.updatePage}\r\n          totalPages={this.state.total_pages}\r\n        />\r\n        <div className=\"cards\">\r\n          <div className=\"container\">\r\n            <div className=\"row mt-4\">\r\n              {this.state.movies.map((movie) => {\r\n                return (\r\n                  <MovieItem\r\n                    key={movie.id}\r\n                    movie={movie}\r\n                    removeMovie={this.removeMovie}\r\n                    addMovieToWillWatch={this.addMovieToWillWatch}\r\n                    removeMovieFromWillWatch={this.removeMovieFromWillWatch}\r\n                  />\r\n                );\r\n              })}\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <Pagination\r\n          page={this.state.page}\r\n          updatePage={this.updatePage}\r\n          totalPages={this.state.total_pages}\r\n        />\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\nimport App from './App';\r\n\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\n\r\nconst rootElement = document.getElementById('root');\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  rootElement\r\n);\r\n"],"sourceRoot":""}